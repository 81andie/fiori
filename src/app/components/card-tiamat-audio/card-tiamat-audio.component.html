
<button class="h-12 w-12  mx-1 rounded-full flex justify-center items-center  bg-gradient-to-b from-[#e3bff5] via-[#b872e6] to-[#9b3cfa] fixed bottom-16 z-40 left-1"
(click)="toggleAudio()"

>
<svg class="ml-1.5" fill="#000000" height="25px" width="25px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M487.142,226.743c-6.782-6.33-14.769-10.791-23.404-13.217v-5.62c0-15.765-6.611-30.977-18.14-41.738 c-11.69-10.913-26.942-16.314-42.966-15.208c-28.224,1.947-50.975,24.699-52.921,52.923 c-1.889,27.401,16.153,51.899,41.686,59.017c-0.05,0.518-0.108,1.034-0.144,1.555c-1.104,16.017,4.298,31.276,15.209,42.966 c7.936,8.502,18.296,14.331,29.512,16.804v8.716c0,6.716,1.175,13.162,3.315,19.152V459.86c0,15.267-12.422,27.689-27.689,27.689 h-72.236V12.225C339.364,5.474,333.89,0,327.139,0H18.942C12.192,0,6.717,5.474,6.717,12.225v487.551 c0,6.75,5.474,12.225,12.225,12.225h305.231h2.967h84.461c28.75,0,52.138-23.39,52.138-52.138v-0.776 c23.172-1.586,41.543-20.931,41.543-44.499v-36.784v-5.137V268.478C505.283,252.715,498.671,237.502,487.142,226.743z M314.915,487.551H31.167V227.728h214.876c6.75,0,12.225-5.474,12.225-12.225s-5.474-12.225-12.225-12.225H31.167V24.449h283.748 V487.551z M398.973,239.624c-15.145-3.674-25.977-17.997-24.87-34.06c1.11-16.113,14.099-29.101,30.212-30.212 c9.18-0.636,17.919,2.453,24.601,8.688c6.689,6.243,10.373,14.72,10.373,23.864v4.187 C422.146,214.784,407.477,225.194,398.973,239.624z M460.424,332.942v-19.606c0-6.75-5.474-12.225-12.225-12.225 c-9.145,0-17.619-3.683-23.864-10.373c-6.237-6.682-9.324-15.419-8.689-24.601c1.111-16.113,14.099-29.101,30.212-30.212 c9.176-0.634,17.919,2.453,24.602,8.689c6.689,6.243,10.373,14.717,10.373,23.863v94.723 C468.879,358.353,460.424,346.617,460.424,332.942z M480.833,414.586c0,10.072-7.431,18.419-17.094,19.907V381.9 c5.216,3.136,10.974,5.453,17.094,6.796V414.586z"></path> </g> </g> <g> <g> <path d="M268.711,60.356H77.371c-6.75,0-12.225,5.474-12.225,12.225v95.026c0,6.75,5.474,12.225,12.225,12.225h191.34 c6.75,0,12.225-5.473,12.225-12.225V72.581C280.936,65.83,275.462,60.356,268.711,60.356z M256.487,155.382H89.596V84.805h166.89 V155.382z"></path> </g> </g> <g> <g> <path d="M173.042,244.542c-62.374,0-113.12,50.746-113.12,113.12s50.746,113.12,113.12,113.12 c62.374,0,113.12-50.746,113.12-113.12S235.416,244.542,173.042,244.542z M173.042,446.333c-48.893,0-88.671-39.778-88.671-88.671 s39.778-88.671,88.671-88.671s88.671,39.778,88.671,88.671S221.935,446.333,173.042,446.333z"></path> </g> </g> <g> <g> <path d="M173.042,296.267c-33.854,0-61.397,27.541-61.397,61.396s27.542,61.397,61.397,61.397 c33.853,0,61.396-27.542,61.396-61.397S206.895,296.267,173.042,296.267z M173.042,394.61c-20.372,0-36.948-16.575-36.948-36.948 s16.575-36.947,36.948-36.947s36.947,16.574,36.947,36.947S193.414,394.61,173.042,394.61z"></path> </g> </g> <g> <g> <path d="M294.104,213.116c-0.147-0.784-0.391-1.553-0.697-2.286c-0.306-0.746-0.685-1.455-1.125-2.115 c-0.44-0.672-0.953-1.296-1.516-1.858c-0.562-0.562-1.186-1.076-1.858-1.516c-0.66-0.439-1.369-0.819-2.115-1.125 c-0.733-0.306-1.502-0.537-2.286-0.697c-1.576-0.318-3.202-0.318-4.779,0c-0.77,0.16-1.542,0.391-2.286,0.697 c-0.735,0.306-1.444,0.686-2.104,1.125c-0.672,0.44-1.296,0.954-1.858,1.516c-0.562,0.562-1.076,1.186-1.528,1.858 c-0.44,0.66-0.819,1.369-1.125,2.115c-0.306,0.734-0.538,1.502-0.697,2.286c-0.159,0.782-0.231,1.589-0.231,2.384 c0,0.793,0.073,1.601,0.231,2.396c0.159,0.77,0.403,1.54,0.709,2.286c0.306,0.734,0.672,1.443,1.125,2.103 c0.44,0.672,0.954,1.296,1.516,1.858c0.562,0.576,1.186,1.076,1.858,1.528c0.66,0.44,1.369,0.819,2.104,1.125 c0.744,0.306,1.516,0.538,2.286,0.697c0.793,0.159,1.601,0.232,2.396,0.232c0.793,0,1.601-0.075,2.383-0.232 c0.784-0.159,1.554-0.391,2.286-0.697c0.746-0.306,1.455-0.685,2.115-1.125c0.672-0.452,1.296-0.952,1.858-1.528 c0.562-0.562,1.076-1.186,1.516-1.858c0.44-0.66,0.819-1.369,1.125-2.103c0.306-0.746,0.538-1.516,0.697-2.286 c0.159-0.795,0.245-1.603,0.245-2.396C294.349,214.705,294.263,213.897,294.104,213.116z"></path> </g> </g> </g></svg>
</button>

<div
  class="bg-gradient-to-b from-stone-700 to-cyan-200 border-2 border-stone-100 bg-cover  bg-center bg-no-repeat bg-opacity-75 lg:h-[75vh] md:h-[40vh] h-[76vh] w-60 z-40 fixed  left-16  rounded-lg "
  *ngIf="currentTrack > 0 || isVisible ">
  <div class="mt-1 p-1">
    <form class="max-w-md mx-auto">
      <div class="w-[223px] flex mt-1.5 mb-1 mr-0.5 ml-0.5  rounded-lg">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.9LqKtokwcvdtCraAnRTRegHaHa?r=0&pid=ImgDet&w=194&h=194&c=7&dpr=1,4&o=7&rm=3"
          class="h-6 me-3 rounded-full" alt="Logo" />
        <span class="self-center text-xs font-semibold whitespace-nowrap dark:text-white">Fiori Poetic blog</span>
      </div>

      <label for="default-search" class="mb-1 text-xs font-medium text-gray-900 sr-only dark:text-white">Search</label>
      <div class="relative ml-1 mr-0.5 mt-0.5">
        <div class="absolute inset-y-0 start-0 flex items-center ps-2 pointer-events-none">
          <svg class="w-2 h-2 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
            fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
          </svg>
        </div>

      </div>
    </form>

    <hr class="h-1 w-[230px] mt-2 mb-2 bg-slate-600">


    <div class="h-20 mt-2 relative mr-1 ">



      <!-- Muestra solo el haiku actual -->
      <div class="relative w-[232px] mt-0.5 h-24 " *ngIf="currentTrack?.img">
        <img [src]="currentTrack.img" alt="Imagen audio" class="w-[230px] mt-0.5 h-24 object-cover" />

        <div class="absolute top-1 left-0 text-stone-800 font-bold text-xs bg-opacity-70">
          <span class="bg-slate-700 p-1 ml-2 text-md text-fuchsia-50 text-right bg-opacity-55">
            <strong>{{currentTrack.title}}</strong>
          </span>


          <div class="flex p-1 h-14 ml-1 mt-2 w-auto versos flex-col bg-slate-700 text-violet-50 bg-opacity-50">

            <span>{{currentTrack.subtitle}}</span>
            <span>{{currentTrack.date}}</span>
          </div>
        </div>
      </div>



      <div class="flex flex-col max-w-md mx-auto text-xs mt-0.5">
        <span class="text-white bg-slate-700 w-[230px]  title_reproductor bg-opacity-45 p-1">
          <strong>{{ currentTrack.title }}</strong>, reproduciendo...
        </span>
        <span class="text-white p-1"><strong>{{ currentTrack.fontSong }}</strong></span>



        <div class="relative w-[230px] h-8 bg-gray-200  rounded max-w-xl">
          <div class="w-full absolute bg-red-50  top-2 flex flex-col mb-1">
            <div #waveform class=" waveform w-full absolute bg-red-50 bg-opacity-25 top-0 flex flex-col "></div>

          </div>

          <div class="w-full flex  justify-center h-12 absolute gap-2 mt-10 ">

            <button (click)="prev()" class="bg-blue-200 text-white px-1 rounded mr-1 h-6 "><svg fill="#000000" width="20px" height="20px" viewBox="0 0 32 32" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Icon"> <path d="M9.441,13.504c-0.834,0.556 -1.335,1.493 -1.335,2.496c-0,1.003 0.501,1.94 1.335,2.496l13.895,9.263c0.92,0.614 2.104,0.671 3.08,0.149c0.975,-0.522 1.584,-1.539 1.584,-2.645l-0,-18.526c-0,-1.106 -0.609,-2.123 -1.584,-2.645c-0.976,-0.522 -2.16,-0.465 -3.08,0.149l-13.895,9.263Zm1.11,1.664l13.894,-9.263c0.307,-0.205 0.702,-0.224 1.027,-0.05c0.325,0.174 0.528,0.513 0.528,0.882c-0,0 -0,18.526 -0,18.526c-0,0.369 -0.203,0.708 -0.528,0.882c-0.325,0.174 -0.72,0.155 -1.027,-0.05c0,0 -13.894,-9.263 -13.894,-9.263c-0.278,-0.185 -0.445,-0.498 -0.445,-0.832c-0,-0.334 0.167,-0.647 0.445,-0.832Z"></path> <path d="M3.977,4.987l-0.003,22c0,0.552 0.448,1.001 1,1.001c0.552,-0 1,-0.448 1,-1l0.003,-22c0.001,-0.552 -0.447,-1 -0.999,-1c-0.552,-0 -1,0.448 -1.001,0.999Z"></path> </g> </g></svg></button>


            <button (click)="play()" class="bg-green-200 text-white rounded mr-1 w-14 h-6 px-1">
              <div class="w-full flex gap-2 mt-1">
                <svg height="20px" width="20px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 456 612" xml:space="preserve" fill="#000000">
                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                  <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                  <g id="SVGRepo_iconCarrier">
                    <style type="text/css">
                      .st0 {
                        fill: #000000;
                      }
                    </style>
                    <g>
                      <path class="st0"
                        d="M256,0C114.625,0,0,114.625,0,256c0,141.374,114.625,256,256,256c141.374,0,256-114.626,256-256 C512,114.625,397.374,0,256,0z M351.062,258.898l-144,85.945c-1.031,0.626-2.344,0.657-3.406,0.031 c-1.031-0.594-1.687-1.702-1.687-2.937v-85.946v-85.946c0-1.218,0.656-2.343,1.687-2.938c1.062-0.609,2.375-0.578,3.406,0.031 l144,85.962c1.031,0.586,1.641,1.718,1.641,2.89C352.703,257.187,352.094,258.297,351.062,258.898z">
                      </path>
                    </g>
                  </g>
                </svg>

                <svg width="24px" height="24px" viewBox="0 0 25 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                  <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                  <g id="SVGRepo_iconCarrier">
                    <path d="M8 5V19M16 5V19" stroke="#000000" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round"></path>
                  </g>
                </svg>
              </div>
            </button>


            <button (click)="next()" class="bg-blue-200 text-white h-6 px-1 rounded"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.60439 4.23093C4.94586 3.73136 4 4.20105 4 5.02762V18.9724C4 19.799 4.94586 20.2686 5.60439 19.7691L14.7952 12.7967C15.3227 12.3965 15.3227 11.6035 14.7952 11.2033L5.60439 4.23093ZM2 5.02762C2 2.54789 4.83758 1.13883 6.81316 2.63755L16.004 9.60993C17.5865 10.8104 17.5865 13.1896 16.004 14.3901L6.81316 21.3625C4.83758 22.8612 2 21.4521 2 18.9724V5.02762Z" fill="#0F0F0F"></path> <path d="M20 3C20 2.44772 20.4477 2 21 2C21.5523 2 22 2.44772 22 3V21C22 21.5523 21.5523 22 21 22C20.4477 22 20 21.5523 20 21V3Z" fill="#0F0F0F"></path> </g></svg></button>
          </div>


        </div>
      </div>

      <div class="flex">
        <div class="songs text-gray-800 mt-2 ">
          <div class="songs  text-gray-800 mt-10  grid grid-cols-2 gap-2">

             <span *ngFor="let audio of tiamatAudios; let i = index" (click)="selectTrack(i)" class="text-stone-700  mx-2 text_narration
                  font-extrabold cursor-pointer p-1 bg-stone-800  bg-opacity-35  hover:text-green-200 rounded"
                [class.font-bold]="currentTrack?.audio === audio.audio">
                {{ audio.title }}
              </span>


          </div>
        </div>
      </div>
      <!-- Lista de canciones -->

    </div>
  </div>
</div>
